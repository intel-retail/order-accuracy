# =============================================================================
# Dine-In Order Accuracy Configuration
# =============================================================================
# Copy this file to .env and modify as needed:
#   cp .env.example .env
#
# Required variables are marked with [REQUIRED]
# Optional variables have default values shown
# =============================================================================

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Service Endpoints
# -----------------------------------------------------------------------------
OVMS_ENDPOINT=http://ovms-vlm:8000
OVMS_MODEL_NAME=Qwen/Qwen2.5-VL-7B-Instruct-ov-int8
SEMANTIC_SERVICE_ENDPOINT=http://semantic-service:8080
API_TIMEOUT=60

# -----------------------------------------------------------------------------
# Benchmark Mode Configuration (In-App Scaling)
# -----------------------------------------------------------------------------
# These settings control the built-in auto-scaling benchmark mode
BENCHMARK_MODE=false
BENCHMARK_INITIAL_WORKERS=1
BENCHMARK_MAX_WORKERS=10
BENCHMARK_MIN_WORKERS=1
BENCHMARK_TARGET_LATENCY_MS=2000
BENCHMARK_MAX_LATENCY_MS=5000
BENCHMARK_CPU_THRESHOLD=80.0
BENCHMARK_GPU_THRESHOLD=80.0
BENCHMARK_SCALE_UP_THRESHOLD=0.8
BENCHMARK_SCALE_DOWN_THRESHOLD=0.5
BENCHMARK_CHECK_INTERVAL=10
BENCHMARK_WARMUP_REQUESTS=5

# -----------------------------------------------------------------------------
# Stream Density Benchmarking Configuration
# -----------------------------------------------------------------------------
# These variables configure the stream density latency benchmark script.
# CLI arguments override these environment variables.
#
# For dine-in, "density" refers to concurrent image validation requests.

# TARGET_LATENCY_MS: Target latency threshold in milliseconds
# Benchmark scales density until this latency is exceeded
TARGET_LATENCY_MS=15000

# LATENCY_METRIC: Which latency metric to use for scaling decisions
# Options: 'avg' (average), 'p95' (95th percentile), or 'max'
LATENCY_METRIC=avg

# DENSITY_INCREMENT: Number of concurrent images to add per iteration
# Higher values = faster benchmark but less granular results
DENSITY_INCREMENT=1

# INIT_DURATION: Initialization/warmup time in seconds per iteration
# Time to wait after starting containers before collecting metrics
INIT_DURATION=60

# MIN_REQUESTS: Minimum successful requests required per iteration
# Lower values = faster iterations but less reliable metrics
MIN_REQUESTS=3

# REQUEST_TIMEOUT: Individual request timeout in seconds
# Max time to wait for a single image validation request
REQUEST_TIMEOUT=300

# API_ENDPOINT: Dine-in API endpoint URL
# Override if running API on different host/port
API_ENDPOINT=http://localhost:8083

# RESULTS_DIR: Directory for benchmark results output
RESULTS_DIR=./results
